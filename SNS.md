### SNS

알림을 설정,운영,전송할 수 있는 웹 서비스

알림이 푸시 매커니즘,새로운 정보 및 업데이트를 정기적으로 확인하거나 폴링할 필요가 없음



#### 장점

약결합 분산 APP

- 즉시적인 푸시 기반 전송
- 간편한 API,손쉬운 APP통합
- 여러 전송 프로토콜 지원



### SQS와의 차이점

SNS : 정기적으로 업데이트 확인할 필요 없이 푸시 매커니즘을 통해 메시지 송신

SQS : 분산 APP에서 폴링 모델을 통해 메시지를 교환하는 메시지 대기열 서비스, 송신 구성 요소와 수신 구성 요소 분리 가능



SNS를 사용하는 일반적인 패턴 : 메시지를 SQS대기열로 게시하고, 비동기식으로 하나 이상의 시스템 구성 요소를 안정적으로 전송하는 것



### 함께 사용되는 서비스

SQS,EC2,S3

트랜잭션 발생 - 파이프라인 작동 - 구성 요소 간 메시지 전송

DB기록 - EC2에 존재하는 APP이 주문 요청을 결제 프로세서로 전달 - 주문 승인 - 주문 승인 메시지가 SNS 주제에 게시(다양한 구독자들이 Email/HTTP를 통해 주제 구독 중) - SNS가 알림을 보냄



### SNS FIFO TOPIC

주제를 메시지에 게시,메시지를 구독하는 일련의 엔드포인트로 전달 가능

메시지를 순서대로 1회만 전달

순서가 지정된 메시지를 SQS FIFO QUEUE로 전달하여 분산 애플리케이션에 대한 일관된 포괄적인 메시지 순서 지정 제공, 높은 처리량과 일관된 순서의 트랜잭션 처리, 메시징 아키텍처 간소화



#### SNS FIFO TOPIC vs Kinesis Streams

모두 엄격한 순서의 다대다 메시징 요구 애플리케이션 구축

SNS FIFO TOPIC : 최대 100명의 구독자에 대한 순서 지정된 대량의 팬아웃 애플리케이션

Kinesis Streams : 최대 5명의 구독자에 대한 순서 지정된 팬아웃 지정



### Lambda에 대한 SNS 지원

Lambda함수가 구독되어있는 SNS 주제에 메시지 게시, Lambda호출

Lambda함수에 메시지 게시-메시지 수정-수정된 메시지를 다른 주제 및 엔드포인트에 필터링 및 라우팅

SNS주제에 Lamba함수를 구독하고, Lambda함수를 통해 다른 서비스에 메시지 전송 가능






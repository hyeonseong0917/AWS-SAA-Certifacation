## Auto Scaling

1.규모를 조정할 수 있는 리소스

-EC2 AS Group

-ECS

-EC2 Spot

-DynamoDB

-Aurora Replica



2.Launch Configuration

- 한번에 한 개의 시작 구성과 연결, 시작 구성 생성 후 수정 불가 - 새 시작 구성으로 그룹을 업데이트 해야함
- AMI,Type, Key-Pair, SG,Block Device Mapping

3.Launch Template

- 여러가지 Launch Template 버전 사용 가능-필요할 때마다 기본 구성에서 템플릿의 새 버전 생성 가능

4.Auto Scaling Group의 크기 조정

조정 옵션

1.대상 추적 조정 정책

지표를 지정한 목푯값에 가깝게 유지 ex)ASG의 평균 총 CPU 사용량을 40%로 유지

지표가 목푯값을 초과한 경우 ASG 확장 가능

웜 업 시간 지정 가능

2.단계 조정 및 단순 조정 정책

지정된 평가 기간에 조정 지표가 임계값을 초과했을 때 ASG를 조정하는 방법

3.조정 휴지

단순 조정 사용 시 ASG가 휴지 기간이 완료될 때까지 기다렸다가 추가 조정 활동 시작

ASG에서 인스턴스 증가를 지원하여 시작 시, 몇 분이 걸리기 때문

4.SQS 기반 크기 조정

SQS 대기열의 시스템 로드 변경에 따라 ASG 조정

CloudWatch 사용자 지표 - 대상 추적 조정 정책 지표 -조정 정책 테스트(SQS 메시지 증가)

5.예측 조정

트래픽 흐름의 일일 및 주간 패턴에 앞서 ASG의 EC2증가 가능

주기적 트래픽, 반복적인 온오프 워크로드, 초기화 시간이 오래걸리는 경우

업무 시간 중에는 사용량이 많고, 밤새 사용량이 줄어드는 워크로드에 유리

6.수명 주기 후크

수명 주기의 이벤트 인식, 다음 해당 수명 주기 이벤트 발생 시 사용자 지정 작업 수행

확장 시 - 대기 상태에 있는 동안 SW Package다운, 설치

축소 시 - 인스턴스 종료 전 일시 중지, EventBridge를 사용하여 알림을 보냄

EC2가 ELB에 등록되는 시점을 제어







